<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ババ抜き大会管理</title>
<link rel="stylesheet" href="./style.css" />
</head>
<body>

<pre id="view" style="white-space:pre-wrap;"></pre>

<div id="app">
  <div id="status" style="margin:8px 0;font-weight:bold;"></div>

<div id="sidebar">
  <h2>メニュー</h2>
  <ul>
  <button onclick="navigate('scan')">🎮 プレイヤー管理</button>
  <button onclick="navigate('ranking')">🏆 順位登録</button>
  <button onclick="navigate('kekka')">🔔 銅鐸履歴</button>
  <button onclick="window.open('https://example.com/rank', '_blank')">📈 ランキング表</button>
  <button onclick="window.open('https://example.com/live', '_blank')">📍 リアルタイム座席</button>
  <button onclick="window.open('https://example.com/realtime-rank', '_blank')">📊 リアルタイムランキング</button>
  </ul>
</div>

<main id="mainContent">
  <!-- 手動保存ボタン・CSVエクスポートボタン -->
  <section id="scanSection" class="section">
        <h2>QRコードスキャン</h2>
        <div id="messageArea"></div>
        <div id="seatList"></div>
        <div id="reader" style="width: 320px"></div>
        <button onclick="saveToGAS()">Googleドライブに手動保存</button>
        <button onclick="exportPlayerCSV()" style="margin-left:10px;">生徒データをCSVエクスポート</button>
        <button onclick="exportSeatCSV()" style="margin-left:10px;">座席データをCSVエクスポート</button>
        <button onclick="exportLeaveCSV()">対戦離席履歴をCSVダウンロード</button>
        <button onclick="undo()">Undo</button>
        <button onclick="redo()">Redo</button>
  </section>

  <section id="rankingSection" class="section" style="display:none">
    <h1>🎮 プレイヤー・座席管理</h1>
    <p>QRコードで座席を読み込んでください。</p>
    <div id="rankingReader" style="width: 320px;"></div>
    <ul id="rankingList" class="draggable-list"></ul>
    <button onclick="confirmRanking()">✅ 順位決定</button>
  </section>
</main>
</div>
<script type="module" src="./app.js"></script>
<script src="https://unpkg.com/html5-qrcode@2.3.8/minified/html5-qrcode.min.js"></script>
</body>
</html>
