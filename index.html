<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <style>
      .sidebars {
        position: fixed;
        top: 0;
        left: 0;
        width: 250px;
        height: 100vh;
        background-color: #333;
        color: white;
        padding: 20px;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .sidebars.open {
        transform: translateX(0);
      }

      .sidebars h2 {
        margin-top: 0;
      }

      .sidebars a {
        color: white;
        text-decoration: none;
        display: block;
        margin: 10px 0;
      }
      
      .toggle-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1100;
        background-color: #444;
        color: white;
        border: none;
        padding: 10px 15px;
        cursor: pointer;
        border-radius: 4px;
      }

      .main {
        margin-left: 0;
        padding: 20px;
        transition: margin-left 0.3s ease;
      }

      .main.shifted {
        margin-left: 250px;
      }
    </style>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åº§å¸­ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
  </head>
  <body>
    <button class="toggle-btn" onclick="toggleSidebar()">â˜° ãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>


    
    <header>
      <h1>åº§å¸­ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
    </header>

  <main>
    <div class="sidebars" id="sidebars">
      <h2>ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
      <button href="#">ãƒ›ãƒ¼ãƒ </button>
      <button onclick="navigate('scanSection')">ğŸ’½QRã‚¹ã‚­ãƒ£ãƒ³</button>
      <button onclick="navigate('rankingSection')">ğŸ’¾ é †ä½ç™»éŒ²</button>
      <button onclick="navigate('historySection')">ğŸ”” å±¥æ­´</button>
      <button onclick="navigate('helpSection')">ğŸ” æ“ä½œãƒ˜ãƒ«ãƒ—</button>
      <button id="openThemeBtn">ğŸ¨ãƒ†ãƒ¼ãƒç·¨é›†</button>
      <button id="adminLoginBtn">ğŸ”‘ ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–</button>
      <span id="adminStatus">[æœªèªè¨¼]</span>
      <button onclick="window.open('https://qr212345.github.io/QW/')">ğŸ“ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åº§å¸­</button>
      <button onclick="window.open('https://qr212345.github.io/rankingusheet/')">ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°</button>
      <button href="#">è¨­å®š</button>
      <button href="#">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </div>
    
    <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º -->
    <div id="messageArea" class="message-area"></div>
    
    <section id="welcomeScreen" class="full-screen section active">
      <div class="welcome-content">
        <h1>ğŸ‰ å¤§ä¼šã¸ã‚ˆã†ã“ã ğŸ‰</h1>
        <p>ç”»é¢ã‚’ã‚¿ãƒƒãƒï¼ã‚¯ãƒªãƒƒã‚¯ã—ã¦é †ä½ç™»éŒ²ãƒ¢ãƒ¼ãƒ‰ã«é€²ã‚€</p>
      </div>
    </section>
    
    <!-- QRã‚¹ã‚­ãƒ£ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="scanSection" class="section" style="display:none;">
      <h2>QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³</h2>
      <div id="reader" class="qr-reader"></div>
      <p id="result">èª­ã¿å–ã‚ŠçµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
      <div id="seatList" class="seat-list"></div>
      <div class="controls">
        <button id="undoBtn">â†© Undo</button>
        <button id="redoBtn">â†ª Redo</button>
        <button id="exportPlayerBtn">ğŸ“„ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼CSV</button>
        <button id="exportSeatBtn">ğŸ“œ åº§å¸­CSV</button>
        <button id="saveToGASBtn">ğŸ“¥ GASä¿å­˜</button>
        <button id="loadFromGASBtn">ğŸ“¤ GASèª­ã¿è¾¼ã¿</button>
      </div>
    </section>
    
    <!-- é †ä½ç™»éŒ²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="rankingSection" class="section" style="display:none;">
      <h2>é †ä½ç™»éŒ²ãƒ¢ãƒ¼ãƒ‰</h2>
      <div id="rankingReader" class="qr-reader"></div>
      <ul id="rankingList" class="ranking-list"></ul>
      <button id="confirmRankingBtn">ğŸ† é †ä½ç¢ºå®š</button>
      <button id="flushBtn">ğŸ“¨ã¾ã¨ã‚ã¦é€ä¿¡</button>
      <p>ãƒ‰ãƒ©ãƒƒã‚°ã§é †ä½ã‚’å…¥ã‚Œæ›¿ãˆã¦ãã ã•ã„</p>
    </section>

    <!-- å±¥æ­´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="historySection" class="section" style="display:none;">
      <h2>ğŸï¸ å±¥æ­´</h2>
      <button id="exportHistoryBtn">ğŸ“¤ CSVå‡ºåŠ›</button>
      <div id="historyList" class="history-list"></div>
    </section>

    <!-- æ“ä½œãƒ˜ãƒ«ãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="helpSection" class="section" style="display:none;">
      <div class="help-container">
        <button id="closeHelpBtn" onclick="navigate('scanSection')">é–‰ã˜ã‚‹ âœ–</button>
        <h2>æ“ä½œæ‰‹é †</h2>
        <ol>
          <li>QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦åº§å¸­ã¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç™»éŒ²</li>
          <li>Undo/Redoã§æ“ä½œã‚’ä¿®æ­£</li>
          <li>é †ä½ç™»éŒ²ãƒ¢ãƒ¼ãƒ‰ã§åº§å¸­QRã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ãƒ‰ãƒ©ãƒƒã‚°ã§é †ä½ç¢ºå®š</li>
          <li>CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚„GASä¿å­˜ã§ãƒ‡ãƒ¼ã‚¿ç®¡ç†</li>
          <li>ãƒ†ãƒ¼ãƒãƒ‘ãƒãƒ«ã§åº§å¸­ãƒ»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è‰²ã‚„ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤‰æ›´å¯èƒ½</li>
          <li>å±¥æ­´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ç™»éŒ²ãƒ»æ“ä½œã®è¨˜éŒ²ã‚’ç¢ºèª</li>
          <li>ã‚¿ã‚¤ãƒãƒ¼ã§ã‚¤ãƒ™ãƒ³ãƒˆæ™‚é–“ã‚’ç®¡ç†</li>
        </ol>
      </div>
    </section>

    <section id="themeSection">
      <h3>
      ãƒ†ãƒ¼ãƒç·¨é›†
      <button id="closeThemeBtn" style="float:right;">Ã—</button>
      </h3>

      <div class="theme-controls">
        <label>åº§å¸­èƒŒæ™¯: <input type="color" id="seatBgColor" value="#f5f5f5"></label><br>
        <label>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼èƒŒæ™¯: <input type="color" id="playerBgColor" value="#d0f0c0"></label><br>
        <label>ãƒœã‚¿ãƒ³èƒŒæ™¯: <input type="color" id="buttonBgColor" value="#4CAF50"></label><br>
        <label>ãƒœã‚¿ãƒ³æ–‡å­—è‰²: <input type="color" id="buttonColor" value="#ffffff"></label><br>
        <label>ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: <input type="number" id="fontSizeInput" value="14" style="width:60px">px</label><br>
        <button id="applyThemeBtn">é©ç”¨</button>
      </div>
    </section>
  </main>

  <!-- ãƒ†ãƒ¼ãƒãƒ‘ãƒãƒ« -->
  <div id="themePanel" style="display:none;"></div>

  <script src="app.js"></script>
  <script>
    function toggleSidebar() {
      const sidebars = document.getElementById("sidebars");
      const main = document.getElementById("main");
      sidebars.classList.toggle("open");
      main.classList.toggle("shifted");
    }
  </script>
  </body>
</html>
